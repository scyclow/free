<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title></title>
</head>
<body>

  <connect-wallet>
    <div slot="noWeb3">
      <em class="error">Please Connect in a <br>Web3-enabled Browser</em>
    </div>

    <div slot="notConnected">
      <connect-button>
        <button id="connectButton" slot="button">Connect</button>
        <div slot="loading">Loading...</div>
      </connect-button>
    </div>

    <div slot="connected" id="connected">
      connected


    </div>

    <div slot="connectionError" class="error">

    </div>
  </connect-wallet>

</body>

<script src="./utils.js"></script>
<script src="./connectWallet.js" type="module"></script>

<script type="module">
  import {provider} from '../eth.js'



  provider.onConnect(async addr => {
    const networkName = (await provider.getNetwork()).name
    // const FREE33_ADDR = '0x26C43C199d24C61612Af7703f1271A73aC36Fe76'
    // const FREE33_ABI = ['function threeBallsGrid() external view returns (address)']
    // const Free33 = await provider.contract(FREE33_ADDR, FREE33_ABI)


    // const THREE_BALLS_ADDR = await Free33.threeBallsGrid()
    // const THREE_BALLS_ABI = [
    //   'function setURIContract(address) external',
    //   'function tokenURIContract() external view returns (address)',
    // ]

    // const ThreeBallsGrid = await provider.contract(THREE_BALLS_ADDR, THREE_BALLS_ABI)
    // console.log(await ThreeBallsGrid.tokenURIContract())

    // await ThreeBallsGrid.setURIContract('0xe000B280Fd9691AA571B27b6324840F4652b8bcd')
    // console.log(THREE_BALLS_ADDR)





    const collectionData = {
      21: {
        minter: '0xF3963c766848765E799d88361d9a406f487B1E9c',
        name: `Free21 #`,
        url: `https://steviep.xyz/free`,
        img: `ipfs://QmSV8dkHDYxGLBkex8MKdV5eNEUt2wcMPS4Jf8yNHaqxhu/21`,
        ext: `.jpg`,
        description: `Free of charge`
      },
      22: {
        minter: '0x82d87C0D9b1E92d6317E20778187F6472ab9ab18',
        name: `Free22 #`,
        url: `https://steviep.xyz/free`,
        img: `ipfs://QmSV8dkHDYxGLBkex8MKdV5eNEUt2wcMPS4Jf8yNHaqxhu/22`,
        ext: `.jpg`,
        description: `If it's free, you are the product`
      },
      23: {
        minter: '0x4aEcd54F82319d755397e35E18183ac678f1A650',
        name: `Free23 #`,
        url: `https://steviep.xyz/free`,
        img: `ipfs://QmSV8dkHDYxGLBkex8MKdV5eNEUt2wcMPS4Jf8yNHaqxhu/23`,
        ext: `.jpg`,
        description: `Ladies drink free`
      },
      24: {
        minter: '0xFB4Bf03Fe72e26b78574d90454cc6C53Ad41b877',
        name: `Free24 #`,
        url: `https://steviep.xyz/free`,
        img: `ipfs://QmSV8dkHDYxGLBkex8MKdV5eNEUt2wcMPS4Jf8yNHaqxhu/24`,
        ext: `.jpg`,
        description: `Free time`
      },
      25: {
        minter: '0xc16aEb0DB5a912be921b2506be6Dc18dD3ac8424',
        name: `Free25 #`,
        url: `https://steviep.xyz/free`,
        img: `ipfs://QmSV8dkHDYxGLBkex8MKdV5eNEUt2wcMPS4Jf8yNHaqxhu/25`,
        ext: `.jpg`,
        description: `Free Tibet`
      },
      26: {
        minter: '0x3C0875df8EA7dFB7c516312c062f9eDfcB94D6E7',
        name: `Free26 #`,
        url: `https://steviep.xyz/free`,
        img: `ipfs://QmSV8dkHDYxGLBkex8MKdV5eNEUt2wcMPS4Jf8yNHaqxhu/26`,
        ext: `.jpg`,
        description: `Free Taiwan`
      },
      27: {
        minter: '0xEb276066D82D7a55546917f474614FFDedaC97dd',
        name: `Free27 #`,
        url: `https://steviep.xyz/free`,
        img: `ipfs://QmSV8dkHDYxGLBkex8MKdV5eNEUt2wcMPS4Jf8yNHaqxhu/27`,
        ext: `.jpg`,
        description: `Free Palestine`
      },
      28: {
        minter: '0x7F012fb4Bc0EC8ceb8d035C6CECC34237886193F',
        name: `Free28 #`,
        url: `https://steviep.xyz/free`,
        img: `ipfs://QmSV8dkHDYxGLBkex8MKdV5eNEUt2wcMPS4Jf8yNHaqxhu/28`,
        ext: `.jpg`,
        description: `Free for the taking`
      },
      29: {
        minter: '0x00785d54610A3686775AefB50A44C85267AF1754',
        name: `Free29 #`,
        url: `https://steviep.xyz/free`,
        img: `ipfs://QmSV8dkHDYxGLBkex8MKdV5eNEUt2wcMPS4Jf8yNHaqxhu/29`,
        ext: `.jpg`,
        description: `Free trade`
      },
      30: {
        minter: '0xBADBd0FC01696f071D3c4b081Ca33cB923D22d27',
        name: `Free30 #`,
        url: `https://steviep.xyz/free`,
        img: `ipfs://QmSV8dkHDYxGLBkex8MKdV5eNEUt2wcMPS4Jf8yNHaqxhu/30`,
        ext: `.jpg`,
        description: `Freewheeling`
      },
      31: {
        minter: '0x44CDB213521e0845e25Fd95EC491e5aCf2c5fE7f',
        name: `Free31 #`,
        url: `https://steviep.xyz/free`,
        img: `ipfs://QmSV8dkHDYxGLBkex8MKdV5eNEUt2wcMPS4Jf8yNHaqxhu/31`,
        ext: `.jpg`,
        description: `Free and easy`
      },
      32: {
        minter: '0xCC8762B4b73F1fBE5369DA26830744f9Be0daFFd',
        name: `Free32 #`,
        url: `https://steviep.xyz/free`,
        img: `ipfs://QmSV8dkHDYxGLBkex8MKdV5eNEUt2wcMPS4Jf8yNHaqxhu/32`,
        ext: `.jpg`,
        description: `Free parking`
      },
      33: {
        minter: '0x26C43C199d24C61612Af7703f1271A73aC36Fe76',
        name: `Free33 #`,
        url: `https://steviep.xyz/free`,
        img: `ipfs://QmSV8dkHDYxGLBkex8MKdV5eNEUt2wcMPS4Jf8yNHaqxhu/33`,
        ext: `.jpg`,
        description: `Free throw`
      }
    }

    const FREE_BASE_ADDR = '0x30b541f1182ef19c56a39634B2fdACa5a0F2A741'
    const FREE_BASE_ABI = [
      'function collectionIdToMinter(uint) external view returns (address)',
      'function license() external view returns (string)',
      'function setMintingAddress(uint256,address) external',
      `function createCollection(
        address minter,
        string calldata _namePrefix,
        string calldata _externalUrl,
        string calldata _imgUrl,
        string calldata _imgExtension,
        string calldata _description
      ) external`
    ]
    const FreeBase = await provider.contract(FREE_BASE_ADDR, FREE_BASE_ABI)


    const FREE_22_ADDR = '0x30b541f1182ef19c56a39634B2fdACa5a0F2A741'
    const FREE_22_ABI = [
      'function collectionIdToMinter(uint) external view returns (address)',
      'function license() external view returns (string)',
      'function setMintingAddress(uint256,address) external',
      `function createCollection(
        address minter,
        string calldata _namePrefix,
        string calldata _externalUrl,
        string calldata _imgUrl,
        string calldata _imgExtension,
        string calldata _description
      ) external`
    ]

    // console.log(await FreeBase.collectionIdToMinter(22))

    console.log(await FreeBase.collectionIdToMinter(21), collectionData[21].minter)
    console.log(await FreeBase.collectionIdToMinter(22), collectionData[22].minter)
    console.log(await FreeBase.collectionIdToMinter(23), collectionData[23].minter)
    console.log(await FreeBase.collectionIdToMinter(24), collectionData[24].minter)
    console.log(await FreeBase.collectionIdToMinter(25), collectionData[25].minter)
    console.log(await FreeBase.collectionIdToMinter(26), collectionData[26].minter)
    console.log(await FreeBase.collectionIdToMinter(27), collectionData[27].minter)
    console.log(await FreeBase.collectionIdToMinter(28), collectionData[28].minter)
    console.log(await FreeBase.collectionIdToMinter(29), collectionData[29].minter)
    console.log(await FreeBase.collectionIdToMinter(30), collectionData[30].minter)
    console.log(await FreeBase.collectionIdToMinter(31), collectionData[31].minter)
    console.log(await FreeBase.collectionIdToMinter(32), collectionData[32].minter)
    console.log(await FreeBase.collectionIdToMinter(33), collectionData[33].minter)
    console.log(await FreeBase.collectionIdToMinter(34), '0x0')


    // const deployNumber = 33

    // if (!collectionData[deployNumber].minter) throw new Error('No addr for '+deployNumber)
    // await FreeBase.createCollection(
    //   collectionData[deployNumber].minter,
    //   collectionData[deployNumber].name,
    //   collectionData[deployNumber].url,
    //   collectionData[deployNumber].img,
    //   collectionData[deployNumber].ext,
    //   collectionData[deployNumber].description,
    // )



  })

</script>

</html>